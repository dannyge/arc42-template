ifndef::imagesdir[:imagesdir: ../images]

[[section-building-block-view]]


== 构建块视图

ifdef::arc42help[]
[role="arc42help"]
****
.内容
构建块视图显示系统静态分解为构建块（模块、组件、子系统、类、接口、软件包、库、框架、层、分区、层、函数、宏、操作、数据结构......）及其依赖关系（关系、关联......）
此视图对每个架构文档都是必需的。
类比于房屋，这相当于 _平面图_。

.起因
通过抽象化使其结构可理解，从而保持对源代码的概述。
这允许您在抽象层面上与利益相关方沟通，而无需披露实施细节。

.形式
构建块视图是黑盒和白盒的分层集合（见下图）和他们的描述。
 * 黑盒 重点描述单个构建块的责任和接口,不暴露内部实现
 * 白盒 每个白盒通常通过图表和一些文本来解释“更高层级的黑匣子”的内部结构和内部接口。

image::05_building_blocks-EN.png["构件块的结构"]

*第一层* 是整个系统的白盒描述以及所有包含的构建块的黑盒描述。

*第二层* 放大到第一层的一些构建块。因此，它包含1级选定构建块的白盒描述，以及其内部构建块的黑盒描述。

*第三层* （上图中未显示）放大到第二层的选定构建块的细节，以此类推。

> 在上图中，每个圆角矩形代表一个白盒，该白盒应由白盒模板的一个实例来记录。在具体的文档中，您无需在单个图表中展示整个层次结构！

.参考资料

参考 arc42 文档中的 https://docs.arc42.org/section-5/[解决方案策略] 

****
endif::arc42help[]

=== 白盒整体系统

ifdef::arc42help[]
[role="arc42help"]
****
这里使用以下白盒模板描述整个系统的分解。它包含：

 * 概览图
 * 分解的动机
 * 包含构建块的黑盒描述。针对这些，我们为您提供以下替代方案：

   ** 使用一个表格来简短而实用地概述所有包含的构建块及其接口
   ** 根据黑盒模板（见下文），使用构建块的黑盒描述列表。根据您选择的工具，此列表可以是子章节（在文本文件中）、子页面（在 Wiki 中）或嵌套元素（在建模工具中）。

 * （可选：）重要的接口，这些接口在构建块的黑盒模板中没有解释，但对于理解白盒非常重要。

既然有这么多描述接口的方法，为什么不提供一个具体的模板呢？
在最坏的情况下，您必须指定和描述语法、语义、协议、错误处理、限制、版本、质量、必要的兼容性以及许多其他事情。
在理想情况下，您可能只需要通过示例或简单的签名就能解决问题。

****
endif::arc42help[]

_**<概览图>**_

起因::

_<文字说明>_


Contained Building Blocks::
_<Description of contained building block (black boxes)>_

重要接口::
_<对于重要接口的描述>_

ifdef::arc42help[]
[role="arc42help"]
****
插入你对第一层黑盒的说明:

如果您使用表格形式，您将仅根据以下模式描述具有名称和职责的黑黑盒：

[cols="1,2" options="header"]
|===
| **名称** | **职责**
| _<黑盒 1>_ | _<文字说明>_
| _<黑盒 2>_ | _<文字说明>_
|===

如果你使用黑盒描述列表，那么你需要为每个重要的构建块填写一个单独的黑盒模板。它的标题就是黑盒的名称。

****
endif::arc42help[]

==== <黑盒 1>

ifdef::arc42help[]
[role="arc42help"]
****
这里您可以根据以下 _黑盒模板_ 描述< 黑盒 1>

* 目的/责任
* 接口列表（当它们未提取为单独的段落时）。这些接口可能包含质量和性能特征。
* （可选）黑盒的质量/性能特征，例如可用性、运行时行为等。
* （可选）目录/文件路径
* （可选）已满足的要求（如果您需要对要求的可追溯性）。
* （可选）未解决的问题/问题/风险

****
endif::arc42help[]

_<目的/责任>_

_<接口列表>_

_<（可选）质量/性能特征>_

_<（可选）目录/文件路径>_

_<（可选）已满足的要求>_

_<（可选）未解决的问题/难题/风险>_




==== <黑盒 2>

_<黑盒模板>_

==== <黑盒 n>

_<黑盒模板>_


==== <接口 1>

...

==== <接口 m>



=== Level 2

ifdef::arc42help[]
[role="arc42help"]
****
Here you can specify the inner structure of (some) building blocks from level 1 as white boxes.

You have to decide which building blocks of your system are important enough to justify such a detailed description.
Please prefer relevance over completeness. Specify important, surprising, risky, complex or volatile building blocks.
Leave out normal, simple, boring or standardized parts of your system
****
endif::arc42help[]

==== White Box _<building block 1>_

ifdef::arc42help[]
[role="arc42help"]
****
...describes the internal structure of _building block 1_.
****
endif::arc42help[]

_<white box template>_

==== White Box _<building block 2>_


_<white box template>_

...

==== White Box _<building block m>_


_<white box template>_



=== Level 3

ifdef::arc42help[]
[role="arc42help"]
****
Here you can specify the inner structure of (some) building blocks from level 2 as white boxes.

When you need more detailed levels of your architecture please copy this
part of arc42 for additional levels.
****
endif::arc42help[]

==== White Box <_building block x.1_>

ifdef::arc42help[]
[role="arc42help"]
****
Specifies the internal structure of _building block x.1_.
****
endif::arc42help[]

_<white box template>_


==== White Box <_building block x.2_>

_<white box template>_



==== White Box <_building block y.1_>

_<white box template>_
